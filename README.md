# GR4J 流域水文模拟模型

## 目录

- [项目简介](#项目简介)
- [目录结构说明](#目录结构说明)
- [各文件功能介绍](#各文件功能介绍)
  - [module 目录](#module-目录)
  - [data 目录](#data-目录)
  - [其它文件](#其它文件)
- [使用说明](#使用说明)

---

## 项目简介

本项目实现了 GR4J（Génie Rural à 4 paramètres Journalier）流域水文模型，能够根据降雨、蒸散发等气象数据，模拟流域出口的径流过程，并对模拟结果进行评估和可视化。

---

## 目录结构说明

```
GR4J/
├── module/         # 主要代码文件目录
│   ├── main.py
│   ├── simulate.py
│   ├── tools.py
│   └── evaluate.py
├── data/           # 输入数据与参数文件
│   ├── inputData.txt
│   ├── GR4J_Parameter.txt
│   └── others.txt
├── result.png      # 结果图像示例
├── LICENSE         # 许可证文件
```

---

## 各文件功能介绍

### module 目录

- **main.py**  
  项目主程序。负责加载输入数据和参数，初始化模型变量，调用 GR4J 模型进行径流模拟，并调用评估与绘图模块输出结果。是项目的入口文件。

- **simulate.py**  
  GR4J 模型的核心计算模块。实现了 `simulate_gr4j` 函数，完成产流、汇流等水文过程的逐日模拟，输出模拟径流序列。

- **tools.py**  
  工具函数模块。包含 S 曲线（单位线）相关的辅助函数 `SH1_CURVE` 和 `SH2_CURVE`，用于计算单位线的时延分布，是 GR4J 模型汇流计算的基础。

- **evaluate.py**  
  评估与可视化模块。实现了 `evaluate_gr4j_model` 函数，计算模型模拟精度（如 Nash-Sutcliffe 效率系数 NSE），并绘制模拟与观测径流对比图。

### data 目录

- **inputData.txt**  
  输入气象与水文数据文件。每行为一天的数据，包含三列：  
  1. 日降雨量（mm）  
  2. 日蒸散发量（mm）  
  3. 流域出口观测流量（m³/s）

- **GR4J_Parameter.txt**  
  参数说明文件。用于记录 GR4J 模型参数的建议取值区间或说明。

- **others.txt**  
  其他参数文件。包含三行，分别为：  
  1. 流域面积（km²）  
  2. 产流水库初始填充率 S0/x1  
  3. 汇流水库初始填充率 R0/x3

### 其它文件

- **result.png**  
  模型运行后生成的结果图像，展示模拟与观测径流的对比。

- **LICENSE**  
  项目许可证文件。

---

## 使用说明

1. 准备好 `data` 目录下的输入数据和参数文件。
2. 运行 `module/main.py`，即可完成 GR4J 模型的模拟、评估与结果可视化。
3. 结果图像会显示在屏幕上，并可保存为 `result.png`。

---

如需进一步扩展或有疑问，欢迎联系作者或提交 issue。 
